# コード解説ルール

## 基本方針

コードについて、初学者にもわかりやすく、段階的に解説すること。

## 解説の構成

### 1. 概要説明

- **コードの目的**: このコードが何を実現するのかを簡潔に説明
- **全体像**: コード全体の構造や処理の流れを大まかに説明
- **使用場面**: いつ・どこで使われるコードなのかを説明

### 2. 詳細解説

#### 変数・定数の説明

- **命名の意図**: なぜその名前が選ばれたのか
- **型の意味**: TypeScript の型がなぜその型なのか
- **値の役割**: その値がコード内でどのような役割を果たすか

#### 関数・メソッドの説明

- **処理の目的**: 関数が何をするのか
- **引数の意味**: 各引数が何を表すのか、なぜ必要か
- **戻り値の意味**: 何を返すのか、どのように使われるか
- **処理の流れ**: ステップバイステップで処理の流れを説明

#### コンポーネントの説明

- **UI の役割**: 画面でどのように表示されるか
- **props の意味**: 各 props が UI にどう影響するか
- **state の管理**: 状態がどのように管理されているか
- **イベントハンドラ**: ユーザー操作にどう反応するか

### 3. 技術的な詳細

#### 使用している技術・ライブラリ

- **なぜその技術を選んだか**: 技術選定の理由
- **代替案との比較**: 他の選択肢との違い
- **ベストプラクティス**: 業界標準や推奨される使い方

#### パターン・アーキテクチャ

- **デザインパターン**: 使用しているパターンとその理由
- **データフロー**: データがどのように流れるか
- **依存関係**: 他のコードとの関係性

### 4. 初学者向けの補足

#### 概念の説明

- **専門用語の解説**: 初学者が知らない可能性のある用語を説明
- **関連する概念**: 理解を深めるための関連知識
- **よくある質問**: 初学者が疑問に思う可能性のある点

#### 実装の意図

- **なぜこの実装方法を選んだか**: 設計判断の理由
- **他の実装方法との比較**: 選択肢とその違い
- **注意点**: 実装時に気をつけるべき点

## 解説のスタイル

### 表現方法

- **平易な言葉**: 専門用語を使う場合は必ず説明を添える
- **具体例**: 抽象的な説明には具体例を添える
- **比喩**: 複雑な概念は比喩を使って説明
- **図解の提案**: 必要に応じて図解を提案

### 段階的な説明

- **全体から詳細へ**: まず全体像を説明してから詳細に入る
- **単純から複雑へ**: 基本的な概念から始めて段階的に複雑化
- **関連性の明示**: 各部分が全体の中でどう位置づけられるかを明示

### コード例の提示

- **最小限の例**: 理解に必要な最小限のコード例を示す
- **段階的な例**: シンプルな例から始めて、徐々に複雑な例へ
- **比較例**: 「良い例」と「悪い例」を比較して説明

## 解説時の注意事項

### 必須項目

- **コードの目的**: 必ず最初に説明
- **処理の流れ**: 順を追って説明
- **重要なポイント**: 理解すべき重要な点を明示

### 避けるべきこと

- **専門用語の多用**: 説明なしに専門用語を使わない
- **前提知識の過度な仮定**: 初学者が知らない前提を置かない
- **説明の省略**: 「自明」と思われる部分も説明する

### 補足情報

- **関連ファイル**: 関連する他のファイルへの言及
- **参考資料**: より深く学ぶための参考資料
- **実践的なヒント**: 実際の開発で役立つヒント

## 解説の出力形式

### 構造化された説明

1. **概要セクション**: コードの目的と全体像
2. **詳細セクション**: 各部分の詳細な説明
3. **技術セクション**: 技術的な詳細と設計判断
4. **補足セクション**: 初学者向けの補足情報

### 視覚的な区切り

- セクションごとに見出しを使用
- 重要なポイントは強調表示
- コード例は適切にフォーマット

## 実例

### 良い解説の例

```typescript
// この関数は、ユーザーの入力値を検証します
// 引数として受け取った文字列が有効なメールアドレスかどうかをチェックし、
// 正しい場合は true、間違っている場合は false を返します
function validateEmail(email: string): boolean {
  // 正規表現を使ってメールアドレスの形式をチェック
  // @ マークが1つ含まれ、その前後に文字列があることを確認
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email);
}
```

**解説**:

- **目的**: メールアドレスの形式を検証する関数
- **引数**: `email` (文字列型) - 検証したいメールアドレス
- **戻り値**: `boolean` - 有効な場合は `true`、無効な場合は `false`
- **処理の流れ**: 正規表現パターンを使って文字列をチェック
- **技術的な詳細**: 正規表現 `/^[^\s@]+@[^\s@]+\.[^\s@]+$/` は、メールアドレスの基本的な形式をチェックします

### 悪い解説の例

```typescript
// メール検証
function validateEmail(email: string): boolean {
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}
```

**問題点**:

- 目的が不明確
- 正規表現の説明がない
- 処理の流れが説明されていない
- 初学者には理解が困難
